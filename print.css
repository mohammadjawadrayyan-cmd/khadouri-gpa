/* ========= Base ========= */
:root{
  --ink:#0b0f12;
  --muted:#5b6772;
  --line:#c9d3dd;
  --head:#0f3a2b; /* أخضر غامق */
  --bg:#f3f6fa;
}

*{ box-sizing:border-box; }
html,body{ height:auto; }
body{
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
  background: var(--bg);
  color: var(--ink);
}

/* أزرار الشاشة */
.actions{
  max-width: 980px;
  margin: 14px auto 0;
  padding: 0 14px;
  display:flex;
  gap:10px;
  justify-content:flex-end;
}
.btn{
  border:1px solid var(--line);
  background:#fff;
  padding:10px 14px;
  border-radius:12px;
  cursor:pointer;
  text-decoration:none;
  color:var(--ink);
  font-weight:700;
}
.btn.primary{
  background: var(--head);
  border-color: var(--head);
  color:#fff;
}

/* ========= Page ========= */
.page{
  width: 210mm;
  min-height: 297mm;
  margin: 12px auto 20px;
  padding: 12mm;              /* أقل padding = مساحة أكثر */
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 18px;
}

/* Header */
.p-header{
  display:grid;
  grid-template-columns: 1fr 1.2fr 1fr;
  align-items:center;
  gap: 10px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--line);
}
.p-date .k{ font-size: 12px; color: var(--muted); font-weight:800; }
.p-date .v{ font-size: 14px; font-weight:900; }

.p-brand{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:12px;
}
.uni{ text-align:center; line-height:1.15; }
.uni-en{ font-weight:900; font-size:14px; }
.uni-ar{ font-weight:900; font-size:14px; color: var(--head); }
.logo{
  width:48px; height:48px;
  border-radius:999px;
  background:#0b1d18;
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:1000;
  letter-spacing:.5px;
  font-size:14px;
}

.p-doc{ text-align:left; }
.p-doc .doc-en{ font-size:12px; color:var(--muted); font-weight:900; }
.p-doc .doc-ar{ font-size:12px; color:var(--muted); font-weight:900; }

/* Title */
.p-title{
  padding: 10px 0 8px;
  text-align:center;
}
.p-title h1{
  margin: 6px 0 4px;
  font-size: 24px;
  font-weight: 1000;
}
.p-title p{
  margin:0;
  color: var(--muted);
  font-size: 13px;
  font-weight:700;
}

/* Table */
.section-head{
  margin: 10px 0 8px;
  font-weight:1000;
  font-size: 14px;
  color: var(--ink);
}
.muted{ color: var(--muted); font-weight:900; }

.table-wrap{
  border:1px solid var(--line);
  border-radius: 14px;
  overflow:hidden;
}
table{
  width:100%;
  border-collapse: collapse;
  table-layout: fixed;
  font-size: 12.5px; /* أصغر شوي */
}
thead th{
  background: var(--head);
  color:#fff;
  padding: 10px 10px;
  font-weight:1000;
  border-right: 1px solid rgba(255,255,255,.16);
}
tbody td{
  padding: 9px 10px;
  border-top: 1px solid var(--line);
  border-right: 1px solid var(--line);
  font-weight:800;
}
tbody tr:nth-child(even){ background:#f8fafc; }
tbody td:last-child, thead th:last-child{ border-right:none; }

td.ok{ color:#0f7a3a; font-weight:1000; }
td.bad{ color:#b42318; font-weight:1000; }

/* Summary cards - أهم تعديل عشان ما تصير صفحتين */
.p-summary{
  margin-top: 12px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;           /* أقل gap */
  align-items:stretch;
}
.card{
  border:1px solid var(--line);
  border-radius: 16px;
  padding: 12px 12px;  /* أقل padding */
}
.card-h{
  font-weight:1000;
  color: var(--ink);
  font-size: 14px;
  margin-bottom: 8px;
}
.big{
  font-size: 40px;     /* أقل من قبل شوي */
  font-weight: 1100;
  letter-spacing: .5px;
  text-align:center;
  margin: 6px 0 6px;
}
.meta{
  text-align:center;
  color: var(--ink);
  font-weight: 1000;   /* أوضح */
  font-size: 13px;
}

/* Footer */
.p-foot{
  margin-top: 10px;
  padding-top: 8px;
  border-top: 1px solid var(--line);
  text-align:center;
  color: var(--muted);
  font-weight:900;
  font-size: 12px;
}

/* ========= Print rules ========= */
@media print{
  /* هذا يساعد الألوان تطلع بالطباعة */
  *{ -webkit-print-color-adjust: exact; print-color-adjust: exact; }

  /* مهم جدًا لتفادي صفحة زيادة بسبب 100vh أو هوامش كبيرة */
  body{ background:#fff; }

  .no-print{ display:none !important; }

  .page{
    margin: 0;
    border: none;
    border-radius: 0;
    width: auto;
    min-height: auto;
    padding: 10mm;   /* تضييق أكثر بالطباعة */
  }

  @page{
    size: A4;
    margin: 10mm;
  }

  /* منع قطع الصف بالنص */
  thead{ display: table-header-group; }
  tr{ break-inside: avoid; page-break-inside: avoid; }
  .table-wrap, .card, .p-summary{ break-inside: avoid; page-break-inside: avoid; }
}

/* لو صار مواد كثير: بنعمل ضغط إضافي من JS */
.compact table{ font-size: 11.5px; }
.compact tbody td{ padding: 7px 8px; }
.compact .big{ font-size: 36px; }
.compact .page{ padding: 8mm; }
